(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],d=0,v=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(v.length)v.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/movie-app/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"14fd":function(e,t,n){e.exports={app:"App_app_3cl75",wrapper:"App_wrapper_pE_0j"}},3350:function(e,t,n){"use strict";var r=n("4a65"),a=n.n(r);n.d(t,"default",(function(){return a.a}))},"359c":function(e,t,n){e.exports=n.p+"img/github.50ce88a5.png"},"4a65":function(e,t,n){e.exports={theHeader:"TheHeader_theHeader_1vsUW",headerBlock:"TheHeader_headerBlock_37x-h",inlineInput:"TheHeader_inlineInput_sl_ch"}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,a=n("5c96"),i=n.n(a),o=n("4897"),s=n.n(o),c=n("dccd"),u=n.n(c),l=n("2b0e"),d=n("2f62"),v=n("1da1"),p=(n("96cf"),n("bc3a")),f=n.n(p),h="SET_MOVIE",m="SET_MOVIES_LIST",g={getMovie:function(e,t){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,f.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=52532197e622cb20ee90156e53dbcb06"));case 2:r=n.sent,e.commit(h,r.data);case 4:case"end":return n.stop()}}),n)})))()},findMovie:function(e,t){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,f.a.get("https://api.themoviedb.org/3/search/movie?api_key=52532197e622cb20ee90156e53dbcb06&query=".concat(t));case 2:r=n.sent,e.commit(m,r.data.results);case 4:case"end":return n.stop()}}),n)})))()}},_=n("ade3"),b=n("2ef0"),y=n.n(b),k=(r={},Object(_["a"])(r,h,(function(e,t){e.movie=y.a.cloneDeep(t)})),Object(_["a"])(r,m,(function(e,t){e.moviesList=y.a.cloneDeep(t)})),r),w={movie:{adult:!1,backdrop_path:"",belongs_to_collection:null,budget:null,genres:[],homepage:"",id:null,imdb_id:"",original_language:"",original_title:"",overview:"",popularity:null,poster_path:"",production_companies:[],production_countries:[],release_date:"",revenue:null,runtime:null,spoken_languages:[],status:"",tagline:"",title:"",video:!1,vote_average:null,vote_count:null},moviesList:[],defaultMovieId:7131},x=w,O={namespaced:!0,state:x,mutations:k,actions:g};l["default"].use(d["a"]);var j=new d["a"].Store({state:{},mutations:{},actions:{},modules:{main:O}}),M=n("8c4f"),$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.movieCard},[n("div",{class:e.$style.poster},[n("img",{attrs:{src:"https://image.tmdb.org/t/p/original"+(e.movie.poster_path||"/d72ROyJqXQtw2OupW0l15eicRAF.jpg"),alt:"poster"}})]),n("div",{class:e.$style.description},[n("div",{class:e.$style.title},[e._v(" "+e._s(e.getTitle)+" ")]),n("div",[n("div",{class:e.$style.headline},[e._v(" "+e._s(e.movie.tagline)+" ")]),n("div",[e._v(e._s(e.movie.overview))])]),n("div",[n("div",{class:e.$style.headline},[e._v(" "+e._s(e.getGenresList)+" ")]),n("div",[e._v(" "+e._s(e.getProductionCompanies)+" ")])]),n("div",{class:e.$style.mainInfoBlock},[n("div",{staticStyle:{width:"90%",display:"flex","justify-content":"space-between"}},[n("div",[n("div",{class:e.$style.headline},[e._v(" RELEASE DATE: ")]),n("div",[e._v(e._s(e.movie.release_date))])]),n("div",[n("div",{class:e.$style.headline},[e._v(" RUNTIME: ")]),n("div",[e._v(e._s(e.movie.runtime)+" mins")])])]),n("div",{staticStyle:{width:"90%",display:"flex","justify-content":"space-between"}},[n("div",[n("div",{class:e.$style.headline},[e._v(" BOX OFFICE: ")]),n("div",[e._v("$ "+e._s(e.getRevenue))])]),n("div",[n("div",{class:e.$style.headline},[e._v(" AVERAGE: ")]),n("div",[e._v(e._s(e.movie.vote_average)+" / 10")])])])])])])},I=[],T=n("5530"),S=(n("a15b"),n("d81d"),n("b0c0"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),{name:"MovieCard",computed:Object(T["a"])({getTitle:function(){var e;return null===(e=this.movie.title)||void 0===e?void 0:e.toUpperCase()},getGenresList:function(){var e;return null===(e=this.movie.genres)||void 0===e?void 0:e.map((function(e){return e.name})).join(", ")},getProductionCompanies:function(){var e;return null===(e=this.movie.production_companies)||void 0===e?void 0:e.map((function(e){return e.name})).join(", ")},getRevenue:function(){var e;return null===(e=this.movie.revenue)||void 0===e?void 0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},Object(d["d"])("main",["movie"])),methods:{}}),R=S,E=n("9975"),C=n("2877");function F(e){this["$style"]=E["default"].locals||E["default"]}var L=Object(C["a"])(R,$,I,!1,F,null,null),B=L.exports;l["default"].use(M["a"]);var V=[{path:"/",name:"Main"},{path:"/movie/:id",name:"Movie",component:B}],P=new M["a"]({routes:V}),H=P,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:e.getBackgroundImage()||null,attrs:{id:"app"}},[n("div",{class:e.$style.wrapper},[n("the-header"),n("movie-card"),n("the-footer")],1)])},q=[],D=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o=t.toString(),o.lastIndexOf(401)>0&&(o="Вы не авторизованы!"),null!=(null===(n=t.response)||void 0===n?void 0:n.data)&&null!=(null===(r=t.response)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.message)&&(o=t.response.data.message),a["Notification"].error({title:"Внимание!",message:o});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){var t=null!==e&&void 0!==e?e:"Выполняется запрос";return l["default"].prototype.$loading({lock:!0,text:t,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},J=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-footer",{class:e.$style.theFooter},[r("div",{class:e.$style.theFooterBlock},[r("span",[e._v("Developed by Aleks Valushko")]),r("el-link",{class:e.$style.link,attrs:{href:"https://www.linkedin.com/in/aleksvalushko/",title:"LinkedIn",underline:!1}},[e._v(" Link to LinkedIn "),r("img",{attrs:{src:n("dd32"),alt:"LinkedIn"}})]),r("el-link",{class:e.$style.link,attrs:{href:"https://github.com/aleksvalushko/movie-app",title:"GitHub",underline:!1}},[e._v(" Link to GitHub "),r("img",{attrs:{src:n("359c"),alt:"LinkedIn"}})])],1)])},W=[],X={name:"TheFooter"},N=X,U=n("bf66");function Q(e){this["$style"]=U["default"].locals||U["default"]}var z=Object(C["a"])(N,J,W,!1,Q,null,null),K=z.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-header",{class:e.$style.theHeader},[r("div",{class:e.$style.headerBlock},[r("img",{attrs:{src:n("62d8"),alt:"The movie database",title:"To main page"},on:{click:function(t){return e.returnToMainPage()}}}),r("el-select",{class:e.$style.inlineInput,attrs:{clearable:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"Movie title...","remote-method":e.querySearch,loading:e.loadings.loadingMovies,"no-data-text":"No matches",minlength:3,maxlength:100},on:{change:e.handleSelect},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},e._l(e.moviesList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.title,value:e}})})),1)],1)])},Z=[],ee={name:"Header",data:function(){return{searchValue:"",loadings:{loadingMovies:!1}}},computed:Object(T["a"])({},Object(d["d"])("main",["moviesList","defaultMovieId"])),methods:Object(T["a"])(Object(T["a"])({returnToMainPage:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMovie(e.defaultMovieId);case 2:if("/"===e.$router.history.current.path){t.next=5;break}return t.next=5,e.$router.push("/");case 5:case"end":return t.stop()}}),t)})))()},querySearch:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=3;break}return n.next=3,t.findMovie(e);case 3:case"end":return n.stop()}}),n)})))()},handleSelect:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=G(),"/"===t.$router.history.current.path){n.next=4;break}return n.next=4,t.$router.push("/");case 4:return n.next=6,t.getMovie(e.id);case 6:return t.searchValue="",t.SET_MOVIES_LIST([]),n.next=10,t.$router.push("movie/".concat(e.id));case 10:r.close();case 11:case"end":return n.stop()}}),n)})))()}},Object(d["b"])("main",["findMovie","getMovie"])),Object(d["c"])("main",["SET_MOVIES_LIST"]))},te=ee,ne=n("3350");function re(e){this["$style"]=ne["default"].locals||ne["default"]}var ae=Object(C["a"])(te,Y,Z,!1,re,null,null),ie=ae.exports,oe={components:{MovieCard:B,TheHeader:ie,TheFooter:K},data:function(){return{}},computed:Object(T["a"])({},Object(d["d"])("main",["movie","defaultMovieId"])),methods:Object(T["a"])({getBackgroundImage:function(){return{backgroundImage:"url(https://image.tmdb.org/t/p/original".concat(this.movie.backdrop_path||"/d72ROyJqXQtw2OupW0l15eicRAF.jpg",")"),backgroundSize:"cover",width:"100%",height:"100vh",backgroundColor:"black"}}},Object(d["b"])("main",["getMovie"])),mounted:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"/"===e.$router.history.current.path){t.next=4;break}return t.next=4,e.$router.push("/");case 4:return t.next=6,e.getMovie(e.defaultMovieId);case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t["catch"](0),t.next=12,D(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},se=oe,ce=n("a141");function ue(e){this["$style"]=ce["default"].locals||ce["default"]}var le=Object(C["a"])(se,A,q,!1,ue,null,null),de=le.exports;n("0fae");l["default"].config.productionTip=!1,l["default"].use(i.a),s.a.use(u.a),new l["default"]({router:H,store:j,render:function(e){return e(de)}}).$mount("#app")},"62d8":function(e,t,n){e.exports=n.p+"img/tmdb.27b65cb4.svg"},9975:function(e,t,n){"use strict";var r=n("b416"),a=n.n(r);n.d(t,"default",(function(){return a.a}))},a141:function(e,t,n){"use strict";var r=n("14fd"),a=n.n(r);n.d(t,"default",(function(){return a.a}))},b416:function(e,t,n){e.exports={movieCard:"MovieCard_movieCard_J-nje",poster:"MovieCard_poster_3K-0s",description:"MovieCard_description_2dS2n",title:"MovieCard_title_1Xnx2",productionCompanies:"MovieCard_productionCompanies_2W-ZM",mainInfoBlock:"MovieCard_mainInfoBlock_1RhC8",headline:"MovieCard_headline_YyyFn"}},b442:function(e,t,n){e.exports={theFooter:"TheFooter_theFooter_3fg7V",theFooterBlock:"TheFooter_theFooterBlock_oEIt_",link:"TheFooter_link_2T5Dq"}},bf66:function(e,t,n){"use strict";var r=n("b442"),a=n.n(r);n.d(t,"default",(function(){return a.a}))},dd32:function(e,t,n){e.exports=n.p+"img/linkedin.ce5bf6f9.png"}});
//# sourceMappingURL=app.5ee4b8e2.js.map